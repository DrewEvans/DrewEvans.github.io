(this["webpackJsonpfish-eye-app"]=this["webpackJsonpfish-eye-app"]||[]).push([[0],{44:function(e,t,a){},63:function(e,t,a){},65:function(e,t,a){},70:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),s=a(38),r=a.n(s),i=(a(44),a(19)),l=a(3),o=a(12),j=a.n(o),d=a(15),m=a(4),u=a(13),p=a.n(u),b=(a(63),a(0)),h=function(e){var t=e.navTags,a=e.handleBtns;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("nav",{children:Object(b.jsx)("div",{className:"filter-container",children:t?t.map((function(e,t){return Object(b.jsxs)("button",{className:"filter-pills",onClick:a,value:e,"aria-label":e,children:["#",e]},t)})):"Loading..."})})})},O=(a(65),function(){return Object(b.jsx)(i.b,{to:"/",children:Object(b.jsx)("div",{className:"logo-container",children:Object(b.jsx)("img",{src:"../assets/fisheye-logo.png",alt:"fisheye-home-page"})})})}),g=(a(70),a(9)),f=a(10),x=(a(73),function(){var e=Object(b.jsx)(g.a,{className:"animation",icon:f.c});return Object(b.jsx)("div",{className:"spinner-wrapper",children:e})}),v=Object(c.lazy)((function(){return a.e(3).then(a.bind(null,84))})),N=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(m.a)(s,2),i=r[0],l=r[1],o=Object(c.useState)([]),u=Object(m.a)(o,2),g=u[0],f=u[1],N=Object(c.useState)([]),A=Object(m.a)(N,2),k=A[0],y=A[1];function w(){return(w=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/photographers");case 2:t=e.sent,n(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/photographers/tags");case 2:t=e.sent,f(t.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(){w.apply(this,arguments)}(),function(){C.apply(this,arguments)}()}),[]);return Object(c.useEffect)((function(){!function(e,t){if(e.length>0){var a=t.filter((function(t){return t.tags.indexOf(e)>-1}));l(a)}else l(t)}(k,a)}),[k,a]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:Object(b.jsxs)("div",{className:"nav-container",children:[Object(b.jsx)(O,{}),Object(b.jsx)(h,{navTags:g,handleBtns:function(e){var t=[];if(!e.target.parentNode)return t;for(var a=e.target.parentNode.firstChild;a;)1===a.nodeType&&a!==e.target&&t.push(a),a=a.nextSibling;e.isTrusted&&t.forEach((function(e){e.removeAttribute("is-selected")})),e.target.setAttribute("is-selected",!0),y(e.target.value)}}),Object(b.jsx)("h1",{className:"title",children:"Nos photographes"})]})}),Object(b.jsx)("main",{children:Object(b.jsx)(c.Suspense,{fallback:Object(b.jsx)(x,{}),children:Object(b.jsx)("div",{className:"photographers-container",children:i.map((function(e){return Object(b.jsx)("div",{children:Object(b.jsx)(v,{name:e.name,city:e.city,country:e.country,price:e.price,tags:e.tags,tagline:e.tagline,id:e.id,portrait:e.portrait})},e.id)}))})})})]})},A=a(22),k=(a(74),a(21)),y=a(27),w=function(e,t,a){var n=Object(c.useState)({firstName:"",lastName:"",email:"",message:""}),s=Object(m.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)({}),o=Object(m.a)(l,2),j=o[0],d=o[1];return{handleChange:function(t){var a=t.target,c=a.name,n=a.value;i(Object(y.a)(Object(y.a)({},r),{},Object(k.a)({},c,n))),d(e(r))},handleSubmit:function(e){e.preventDefault(),function(){if(j.firstName||j.lastName||j.email)return console.log(j);p.a.post("/api/contactForm/submit",{firstName:r.firstName,lastName:r.lastName,email:r.email,message:r.message,photographerId:t}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),console.log("firstName: ".concat(r.firstName," lastname: ").concat(r.lastName," Email: ").concat(r.email," Message:").concat(r.message," ")),a()}()},values:r,errors:j}};function C(e){var t=/^[a-zA-Z\xc0-\xff,.'-]{2,}$/,a=/[\s]{2,}/,c={};return a.test(e.firstName)||t.test(e.firstName)||(c.firstName="Entrez votre pr\xe9nom"),a.test(e.lastName)||t.test(e.lastName)||(c.lastName="Entrez votre nom"),/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.email)||(c.email="Adresse e-mail invalide"),c}var S=function(e){var t=e.open,a=e.onClose,c=e.name,n=e.id,s=w(C,n,a),r=s.handleChange,i=s.values,l=s.handleSubmit,o=s.errors,j=Object(b.jsx)(g.a,{icon:f.e});return t?Object(b.jsxs)("div",{role:"dialog","aria-label":"contact me ".concat(c),className:"modal-container",children:[Object(b.jsx)("button",{onClick:a,className:"modal-cross","aria-label":"close contact form",children:j}),Object(b.jsxs)("div",{className:"contact-form",children:[Object(b.jsxs)("div",{className:"form-title",children:[Object(b.jsx)("h1",{children:"Contactez-moi"}),Object(b.jsx)("h2",{children:c})]}),Object(b.jsxs)("form",{className:"user-details",children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"firstName",children:"Pr\xe9nom"}),Object(b.jsx)("input",{id:"firstName",name:"firstName",className:"form-control",type:"text",minLength:"2",value:i.firstName,"aria-label":"first name",onChange:r}),o.firstName&&Object(b.jsxs)("p",{className:"error-msg",children:["*",o.firstName]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"lastName",children:"Nom"}),Object(b.jsx)("input",{id:"lastName",name:"lastName",className:"form-control",type:"text",minLength:"2",value:i.lastName,"aria-label":"last name",onChange:r}),o.lastName&&Object(b.jsxs)("p",{className:"error-msg",children:["*",o.lastName]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{id:"email",name:"email",className:"form-control",type:"email",value:i.email,onChange:r,"aria-label":"email"}),o.email&&Object(b.jsxs)("p",{className:"error-msg",children:["*",o.email]})]}),Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"message",children:"Votre message"}),Object(b.jsx)("textarea",{id:"message",name:"message",className:"form-control",type:"text",minLength:"2",value:i.message,"aria-label":"your message",onChange:r,rows:"6",cols:"45",wrap:"hard"})]}),Object(b.jsx)("input",{type:"submit",value:"Envoyer",className:"submit-btn-input",onClick:l,"aria-label":"send"})]})]})]}):null},I=(a(75),function(e){e.photographer;var t=e.name,a=e.tags,n=e.city,s=e.country,r=e.tagline,i=e.portrait,l=e.id,o=Object(c.useState)(!1),j=Object(m.a)(o,2),d=j[0],u=j[1];return Object(b.jsxs)("div",{className:"header-container",children:[Object(b.jsxs)("div",{className:"photographer-details",children:[Object(b.jsx)("h1",{children:t}),Object(b.jsxs)("p",{className:"location",children:[n,", ",s]}),Object(b.jsx)("p",{className:"tagline",children:r}),Object(b.jsx)("div",{className:"tag-container",children:a?a.map((function(e,t){return Object(b.jsxs)("div",{className:"tags","aria-label":"tag ".concat(e),children:["#",e]},t)})):"Loading..."})]}),Object(b.jsx)("div",{className:"btn-container",children:Object(b.jsx)("button",{onClick:function(){return u(!0)},"aria-label":"contact me",children:"Contactez-moi"})}),Object(b.jsx)(S,{open:d,onClose:function(){return u(!1)},name:t,id:l}),Object(b.jsx)("div",{className:"profileImg-container",children:Object(b.jsx)("img",{className:"profile-pic",src:"../assets/Photographers ID Photos/compressed/".concat(i),alt:""})})]})}),E=(a(76),function(e){var t=e.index,a=(e.id,e.name),n=(e.tags,e.image),s=e.video,r=e.likes,i=(e.date,e.contentId,e.key),l=e.openmodal,o=e.onKeyPress,j=Object(c.useState)(r),d=Object(m.a)(j,2),u=d[0],p=d[1],h=Object(b.jsx)(g.a,{icon:f.d});return Object(b.jsxs)(b.Fragment,{children:[n&&Object(b.jsxs)("div",{className:"media-card",children:[Object(b.jsx)("div",{onClick:l,onKeyPress:o,value:"current",className:"content-backdrop","aria-label":"".concat(n.replaceAll(".jpg","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()})),", closeup view"),"aria-selected":"true",role:"tab",tabIndex:t,children:Object(b.jsx)("img",{id:"img-display",src:"../assets/".concat(a,"/compressed/").concat(n),alt:n},i)}),Object(b.jsxs)("div",{className:"media-details",children:[Object(b.jsx)("p",{className:"content-title",children:n.replaceAll(".jpg","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()}))}),Object(b.jsxs)("div",{className:"likes-container",children:[Object(b.jsx)("i",{className:"likes",children:u}),Object(b.jsx)("span",{onClick:function(){return p(u+1)},className:"heart-icon",children:h})]})]})]}),s&&Object(b.jsxs)("div",{className:"media-card",children:[Object(b.jsx)("div",{className:"content-backdrop",children:Object(b.jsx)("video",{controls:!0,src:"../assets/".concat(a,"/").concat(s),type:"video/mp4",alt:s})}),Object(b.jsxs)("div",{className:"media-details",children:[Object(b.jsx)("p",{className:"content-title",children:s.replaceAll(".mp4","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").trim()}),Object(b.jsxs)("div",{className:"likes-container",children:[Object(b.jsx)("i",{className:"likes",children:u}),Object(b.jsx)("span",{onClick:function(){return p(u+1)},className:"heart-icon",children:h})]})]})]})]})});a(77);function F(e){var t=e.openModal,a=e.closemodal,c=e.image,n=e.name,s=e.moveBackward,r=e.moveForward,i=(e.onKeyPress,Object(b.jsx)(g.a,{icon:f.e})),l=Object(b.jsx)(g.a,{icon:f.b}),o=Object(b.jsx)(g.a,{icon:f.a});return t?Object(b.jsxs)("div",{role:"dialog","aria-label":"image closeup view",className:"lightbox-container",children:[Object(b.jsx)("button",{className:"modal-cross",onClick:a,"aria-label":"close dialog",children:i}),Object(b.jsx)("div",{className:"left-arrow-container",children:Object(b.jsx)("button",{id:"back-btn",onClick:s,"aria-label":"previous image",children:o})}),Object(b.jsx)("div",{className:"img-container",children:c.includes(".jpg")?Object(b.jsx)("img",{id:"lightbox-img",src:"../assets/".concat(n,"/compressed/").concat(c),alt:c.replaceAll(".jpg","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()})),"aria-label":c.replaceAll(".jpg","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()}))}):Object(b.jsx)("video",{controls:!0,src:"../assets/".concat(n,"/").concat(c),type:"video/mp4",alt:c.replaceAll(".jpg","").replaceAll(".mp4","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()})),"aria-label":c.replaceAll(".jpg","").replaceAll(".mp4","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()}))})}),Object(b.jsx)("div",{className:"right-arrow-container",children:Object(b.jsx)("button",{id:"next-click",onClick:r,"aria-label":"next image",children:l})}),Object(b.jsx)("p",{className:"img-title",children:c.replaceAll(".jpg","").replaceAll(".mp4","").replaceAll("_"," ").replaceAll(/([A-Z]+)/g," $1").replaceAll(/(^\w|\s\w)/g,(function(e){return e.toUpperCase()}))})]}):null}a(78),a(79);var Z=function(e){var t=e.handleClickItem;return Object(b.jsxs)("div",{className:"wrapper",children:[Object(b.jsx)("p",{className:"header",children:"Trier par"}),Object(b.jsxs)("select",{onChange:t,"aria-label":"content-filter",children:[Object(b.jsx)("option",{className:"item",value:"likes","aria-labelledby":"likes",children:"Popularit\xe9"}),Object(b.jsx)("option",{value:"date","aria-labelledby":"order by date",children:"Date"}),Object(b.jsx)("option",{value:"image","aria-labelledby":"order by title",children:"Titre"})]})]})},P=(a(80),function(e){var t=e.likes,a=e.price,c=Object(b.jsx)(g.a,{icon:f.d});return Object(b.jsxs)("div",{className:"highlight-box",children:[Object(b.jsxs)("div",{className:"total-likes",children:[Object(b.jsx)("p",{className:"user-likes",children:t}),Object(b.jsx)("span",{children:c})]}),Object(b.jsxs)("p",{children:["\u20ac",a,"/jour"]})]})}),$=function(e){var t=e.match,a=parseInt(t.params.id),n=Object(c.useState)([]),s=Object(m.a)(n,2),r=s[0],i=s[1],l=Object(c.useState)([]),o=Object(m.a)(l,2),u=o[0],h=o[1],g=Object(c.useState)([]),f=Object(m.a)(g,2),x=f[0],v=f[1],N=Object(c.useState)("likes"),k=Object(m.a)(N,2),y=k[0],w=k[1];function C(){return(C=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/photographers/".concat(t));case 2:a=e.sent,a.data.map((function(e){return i(e),!0}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=Object(d.a)(j.a.mark((function e(t){var a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/api/photographers/".concat(t,"/media"));case 2:a=e.sent,c=a.data,h(c);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){!function(e){C.apply(this,arguments)}(a),function(e){S.apply(this,arguments)}(a)}),[a]),Object(c.useEffect)((function(){T(y)}),[y,u]);var $,z,T=function(e){var t={likes:"likes",date:"date",image:"image"}[e],a=y;"likes"===t&&(a=Object(A.a)(u).sort((function(e,t){return t.likes>e.likes?1:-1}))),"image"===t&&(a=Object(A.a)(u).sort((function(e,t){return e.image-t.image?1:-1}))),"date"===t&&(a=Object(A.a)(u).sort((function(e,t){return e.date>t.date?1:-1}))),v(a)},_=Object(c.useState)(!1),L=Object(m.a)(_,2),U=L[0],B=L[1],K=Object(c.useState)(),M=Object(m.a)(K,2),D=M[0],J=M[1],V=function(e){B(!0),$=($=e.target.currentSrc).split(/(\\|\/)/g).pop(),J($)},q=function(e){console.log(e.charCode),13===e.charCode&&B(!0)},G=function(e){var t=x.map((function(e){return e.image?e.image:!e.video||e.video})),a=new Proxy(t,{get:function(e,t){return isNaN(t)||(t=parseInt(t,10))<0&&(t+=e.length),e[t]}});z=a.indexOf(D),e&&J(a[z+=e]),z+1>a.length&&J(a[0])},H=0;return u.forEach((function(e){H+=e.likes})),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(O,{}),Object(b.jsxs)("main",{children:[Object(b.jsx)("header",{children:r?Object(b.jsx)(I,{id:a,photographer:r,name:r.name,city:r.city,country:r.country,tagline:r.tagline,tags:r.tags,portrait:r.portrait}):"Loading..."}),Object(b.jsxs)("section",{children:[Object(b.jsx)(Z,{handleClickItem:function(e){w(e.target.value)}}),Object(b.jsx)(F,{openModal:U,closemodal:function(){return B(!1)},image:D,name:r.name,moveBackward:function(e){e.isTrusted?G(-1):console.log(!1)},moveForward:function(e){e.isTrusted?G(1):console.log(!1)}}),Object(b.jsx)("div",{className:"content-container",children:x.map((function(e,t){return Object(b.jsx)("div",{children:Object(b.jsx)(E,{index:t,openmodal:V,onKeyPress:q,tags:e.tags,name:r.name,image:e.image,contentId:e.id,PhotographerId:e.photographerId,likes:e.likes,video:e.video,date:e.date},r.Id)},r.id+t)}))})]}),r?Object(b.jsx)(P,{likes:H,price:r.price}):"Loading..."]})]})};a(81);var z=function(){return Object(b.jsx)(i.a,{children:Object(b.jsxs)(l.c,{children:[Object(b.jsx)(l.a,{exact:!0,path:"/",component:N}),Object(b.jsx)(l.a,{exact:!0,path:"/photographer/:id/",component:$})]})})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(z,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.facd6a85.chunk.js.map